<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" width="800" height="450">
  <defs>
    <filter id="shadow22" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="2" dy="3" stdDeviation="5" flood-color="#00000030"/>
    </filter>
  </defs>

  <!-- Background: deep blue -->
  <rect width="800" height="450" fill="#0f172a"/>

  <!-- Year label -->
  <rect x="16" y="14" width="60" height="24" rx="4" fill="#38bdf8" opacity="0.9"/>
  <text x="46" y="30" font-family="monospace" font-size="13" fill="#0f172a" text-anchor="middle" font-weight="bold">2022</text>

  <!-- Title -->
  <text x="400" y="36" font-family="sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">CSS Cascade Layers — @layer</text>

  <!-- Layer stack illustration (left) -->
  <g transform="translate(40, 55)">

    <!-- Layer 4: utilities (top / highest priority among layers) -->
    <rect x="0" y="0" width="340" height="70" rx="8" fill="#1e293b" filter="url(#shadow22)" stroke="#f59e0b" stroke-width="1.5"/>
    <rect x="0" y="0" width="340" height="24" rx="8" fill="#f59e0b" opacity="0.2"/>
    <rect x="0" y="14" width="340" height="10" fill="#f59e0b" opacity="0.2"/>
    <text x="14" y="18" font-family="monospace" font-size="10" fill="#f59e0b" font-weight="bold">@layer utilities &#123;</text>
    <text x="22" y="34" font-family="monospace" font-size="9" fill="#cbd5e1">.text-center &#123; text-align: center; &#125;</text>
    <text x="22" y="47" font-family="monospace" font-size="9" fill="#cbd5e1">.p-4 &#123; padding: 1rem; &#125;</text>
    <text x="22" y="60" font-family="monospace" font-size="9" fill="#cbd5e1">.flex &#123; display: flex; &#125;</text>
    <!-- Priority arrow -->
    <text x="314" y="38" font-family="monospace" font-size="9" fill="#f59e0b" text-anchor="end">↑ wins</text>

    <!-- Layer 3: components -->
    <rect x="0" y="82" width="340" height="70" rx="8" fill="#1e293b" filter="url(#shadow22)" stroke="#22d3ee" stroke-width="1.5"/>
    <rect x="0" y="82" width="340" height="24" rx="8" fill="#22d3ee" opacity="0.2"/>
    <rect x="0" y="96" width="340" height="10" fill="#22d3ee" opacity="0.2"/>
    <text x="14" y="100" font-family="monospace" font-size="10" fill="#22d3ee" font-weight="bold">@layer components &#123;</text>
    <text x="22" y="116" font-family="monospace" font-size="9" fill="#cbd5e1">.btn &#123; background: var(--brand); &#125;</text>
    <text x="22" y="129" font-family="monospace" font-size="9" fill="#cbd5e1">.card &#123; border-radius: 8px; &#125;</text>
    <text x="22" y="142" font-family="monospace" font-size="9" fill="#cbd5e1">.modal &#123; z-index: 100; &#125;</text>

    <!-- Layer 2: base -->
    <rect x="0" y="164" width="340" height="70" rx="8" fill="#1e293b" filter="url(#shadow22)" stroke="#818cf8" stroke-width="1.5"/>
    <rect x="0" y="164" width="340" height="24" rx="8" fill="#818cf8" opacity="0.2"/>
    <rect x="0" y="178" width="340" height="10" fill="#818cf8" opacity="0.2"/>
    <text x="14" y="182" font-family="monospace" font-size="10" fill="#818cf8" font-weight="bold">@layer base &#123;</text>
    <text x="22" y="198" font-family="monospace" font-size="9" fill="#cbd5e1">body &#123; font-family: system-ui; &#125;</text>
    <text x="22" y="211" font-family="monospace" font-size="9" fill="#cbd5e1">a &#123; color: #0070f3; &#125;</text>
    <text x="22" y="224" font-family="monospace" font-size="9" fill="#cbd5e1">h1, h2 &#123; font-weight: 700; &#125;</text>

    <!-- Layer 1: reset (bottom / lowest priority) -->
    <rect x="0" y="246" width="340" height="70" rx="8" fill="#1e293b" filter="url(#shadow22)" stroke="#4ade80" stroke-width="1.5"/>
    <rect x="0" y="246" width="340" height="24" rx="8" fill="#4ade80" opacity="0.2"/>
    <rect x="0" y="260" width="340" height="10" fill="#4ade80" opacity="0.2"/>
    <text x="14" y="264" font-family="monospace" font-size="10" fill="#4ade80" font-weight="bold">@layer reset &#123;</text>
    <text x="22" y="280" font-family="monospace" font-size="9" fill="#cbd5e1">* &#123; box-sizing: border-box; &#125;</text>
    <text x="22" y="293" font-family="monospace" font-size="9" fill="#cbd5e1">* &#123; margin: 0; padding: 0; &#125;</text>
    <text x="22" y="306" font-family="monospace" font-size="9" fill="#cbd5e1">html &#123; line-height: 1.5; &#125;</text>
    <!-- Bottom marker -->
    <text x="314" y="300" font-family="monospace" font-size="9" fill="#4ade80" text-anchor="end">lowest</text>

    <!-- Priority axis arrow -->
    <line x1="355" y1="316" x2="355" y2="0" stroke="#64748b" stroke-width="1.5" stroke-dasharray="4,3"/>
    <polygon points="355,0 350,12 360,12" fill="#64748b"/>
    <text x="370" y="160" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle" transform="rotate(90,370,160)">↑ higher priority</text>

    <!-- Layer declaration at top -->
    <rect x="0" y="330" width="340" height="32" rx="6" fill="#0f172a" stroke="#38bdf8" stroke-width="1" filter="url(#shadow22)"/>
    <text x="14" y="349" font-family="monospace" font-size="10" fill="#38bdf8">@layer</text>
    <text x="68" y="349" font-family="monospace" font-size="10" fill="#ccc"> reset, base, components, utilities;</text>
  </g>

  <!-- Right side: conflict resolution illustration -->
  <g transform="translate(420, 55)">
    <!-- Scenario: conflict -->
    <rect x="0" y="0" width="350" height="185" rx="8" fill="#1e293b" filter="url(#shadow22)"/>
    <text x="14" y="22" font-family="sans-serif" font-size="11" fill="#94a3b8" font-weight="bold">Without @layer — Specificity War</text>
    <line x1="14" y1="30" x2="336" y2="30" stroke="#334155" stroke-width="1"/>

    <!-- Conflicting rules -->
    <rect x="14" y="38" width="148" height="65" rx="4" fill="#2d1b1b" stroke="#cc3333" stroke-width="1"/>
    <text x="22" y="54" font-family="monospace" font-size="8" fill="#ff6b6b">/* reset.css */</text>
    <text x="22" y="67" font-family="monospace" font-size="8" fill="#ff8888">a &#123;</text>
    <text x="22" y="79" font-family="monospace" font-size="8" fill="#aaa">  color: blue;</text>
    <text x="22" y="91" font-family="monospace" font-size="8" fill="#ff8888">&#125;</text>

    <rect x="172" y="38" width="162" height="65" rx="4" fill="#1b2d1b" stroke="#44aa44" stroke-width="1"/>
    <text x="180" y="54" font-family="monospace" font-size="8" fill="#88ff88">/* component.css */</text>
    <text x="180" y="67" font-family="monospace" font-size="8" fill="#aaffaa">a.special &#123;</text>
    <text x="180" y="79" font-family="monospace" font-size="8" fill="#aaa">  color: red;</text>
    <text x="180" y="91" font-family="monospace" font-size="8" fill="#aaffaa">&#125;</text>

    <!-- Conflict explosion -->
    <text x="175" y="120" font-family="sans-serif" font-size="22" fill="#ff4444" text-anchor="middle">⚠</text>
    <text x="175" y="140" font-family="sans-serif" font-size="9" fill="#ff8888" text-anchor="middle">Specificity conflict!</text>
    <text x="175" y="154" font-family="monospace" font-size="8" fill="#888" text-anchor="middle">Order matters, bugs happen</text>

    <!-- With @layer: clean resolution -->
    <rect x="0" y="200" width="350" height="175" rx="8" fill="#1e293b" filter="url(#shadow22)"/>
    <text x="14" y="222" font-family="sans-serif" font-size="11" fill="#94a3b8" font-weight="bold">With @layer — Predictable Cascade</text>
    <line x1="14" y1="230" x2="336" y2="230" stroke="#334155" stroke-width="1"/>

    <!-- Layer declaration -->
    <text x="14" y="250" font-family="monospace" font-size="9" fill="#38bdf8">@layer reset, base, components;</text>

    <!-- Layer boxes for conflict scenario -->
    <rect x="14" y="258" width="90" height="50" rx="4" fill="#4ade80" opacity="0.15" stroke="#4ade80" stroke-width="1"/>
    <text x="59" y="276" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">reset</text>
    <text x="59" y="289" font-family="monospace" font-size="7" fill="#888" text-anchor="middle">a &#123; blue &#125;</text>
    <text x="59" y="300" font-family="monospace" font-size="7" fill="#4ade80" text-anchor="middle">layer 1</text>

    <rect x="114" y="258" width="90" height="50" rx="4" fill="#818cf8" opacity="0.15" stroke="#818cf8" stroke-width="1"/>
    <text x="159" y="276" font-family="monospace" font-size="8" fill="#818cf8" text-anchor="middle">base</text>
    <text x="159" y="289" font-family="monospace" font-size="7" fill="#888" text-anchor="middle">...</text>
    <text x="159" y="300" font-family="monospace" font-size="7" fill="#818cf8" text-anchor="middle">layer 2</text>

    <rect x="214" y="258" width="120" height="50" rx="4" fill="#22d3ee" opacity="0.15" stroke="#22d3ee" stroke-width="1"/>
    <text x="274" y="276" font-family="monospace" font-size="8" fill="#22d3ee" text-anchor="middle">components</text>
    <text x="274" y="289" font-family="monospace" font-size="7" fill="#888" text-anchor="middle">a.special &#123; red &#125;</text>
    <text x="274" y="300" font-family="monospace" font-size="7" fill="#22d3ee" text-anchor="middle">layer 3 — wins!</text>

    <!-- Check mark and result -->
    <text x="175" y="335" font-family="sans-serif" font-size="18" fill="#22d3ee" text-anchor="middle">✓</text>
    <text x="175" y="350" font-family="sans-serif" font-size="9" fill="#22d3ee" text-anchor="middle">Predictable: layer 3 always beats layer 1</text>
    <text x="175" y="365" font-family="monospace" font-size="8" fill="#888" text-anchor="middle">regardless of selector specificity</text>

    <!-- Chrome/Firefox support badge -->
    <rect x="0" y="380" width="350" height="30" rx="6" fill="#0f172a" stroke="#38bdf8" stroke-width="1"/>
    <text x="175" y="399" font-family="monospace" font-size="9" fill="#38bdf8" text-anchor="middle">Chrome 99 · Firefox 97 · Safari 15.4 — March 2022</text>
  </g>
</svg>
