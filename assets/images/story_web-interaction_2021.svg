<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" width="800" height="450">
  <defs>
    <linearGradient id="bg21" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0f1a"/>
      <stop offset="100%" style="stop-color:#12203a"/>
    </linearGradient>
    <linearGradient id="codecGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a72e8"/>
      <stop offset="100%" style="stop-color:#0d5abf"/>
    </linearGradient>
  </defs>
  <rect width="800" height="450" fill="url(#bg21)"/>

  <!-- Video stream visualization (left) -->
  <rect x="30" y="30" width="340" height="260" rx="8" fill="#111" stroke="#1a72e8" stroke-width="2"/>
  <!-- Video frames strip -->
  <rect x="40" y="40" width="320" height="180" rx="4" fill="#0a0f1a"/>

  <!-- Camera icon at top -->
  <rect x="170" y="50" width="60" height="40" rx="4" fill="#1a72e8" opacity="0.3"/>
  <circle cx="200" cy="70" r="14" fill="none" stroke="#1a72e8" stroke-width="2"/>
  <circle cx="200" cy="70" r="7" fill="#1a72e8" opacity="0.5"/>
  <rect x="160" y="56" width="14" height="8" rx="2" fill="#1a72e8" opacity="0.6"/>

  <!-- Video frames / latency visualization -->
  <!-- Frame 1 -->
  <rect x="42" y="100" width="72" height="110" rx="2" fill="#0d1a30" stroke="#1a72e8" stroke-width="1"/>
  <ellipse cx="78" cy="148" rx="20" ry="26" fill="#1a4080" opacity="0.6"/>
  <text x="78" y="200" font-family="monospace" font-size="8" fill="#4488ff" text-anchor="middle">8ms</text>

  <!-- Frame 2 -->
  <rect x="122" y="100" width="72" height="110" rx="2" fill="#0d1a30" stroke="#1a72e8" stroke-width="1"/>
  <ellipse cx="158" cy="148" rx="20" ry="26" fill="#1a4080" opacity="0.7"/>
  <text x="158" y="200" font-family="monospace" font-size="8" fill="#44dd88" text-anchor="middle">8ms ✓</text>

  <!-- Frame 3 -->
  <rect x="202" y="100" width="72" height="110" rx="2" fill="#0d1a30" stroke="#1a72e8" stroke-width="1"/>
  <ellipse cx="238" cy="148" rx="20" ry="26" fill="#1a4080" opacity="0.8"/>
  <text x="238" y="200" font-family="monospace" font-size="8" fill="#44dd88" text-anchor="middle">8ms ✓</text>

  <!-- Frame 4 with AR filter -->
  <rect x="282" y="100" width="72" height="110" rx="2" fill="#0d1a30" stroke="#ff8844" stroke-width="1.5"/>
  <ellipse cx="318" cy="148" rx="20" ry="26" fill="#2a3a60" opacity="0.8"/>
  <!-- AR filter overlay -->
  <ellipse cx="318" cy="140" rx="24" ry="8" fill="none" stroke="#ff8844" stroke-width="1.5" stroke-dasharray="2,2"/>
  <rect x="308" y="143" width="20" height="5" rx="2" fill="#ff8844" opacity="0.4"/>
  <text x="318" y="200" font-family="monospace" font-size="8" fill="#ff8844" text-anchor="middle">AR filter</text>

  <!-- Latency label -->
  <text x="200" y="228" font-family="sans-serif" font-size="11" fill="#aaa" text-anchor="middle">WebCodecs: raw frame access</text>
  <text x="200" y="244" font-family="sans-serif" font-size="12" fill="#44dd88" text-anchor="middle">8ms latency — real time!</text>

  <!-- API architecture diagram (right) -->
  <rect x="390" y="30" width="380" height="280" rx="8" fill="#0a1220" stroke="#1a72e8" stroke-width="1"/>
  <text x="580" y="54" font-family="sans-serif" font-size="13" fill="#4488ff" text-anchor="middle" font-weight="bold">WebCodecs Architecture</text>

  <!-- Input sources -->
  <rect x="410" y="68" width="80" height="30" rx="4" fill="#1a2a4a" stroke="#4488ff" stroke-width="1"/>
  <text x="450" y="87" font-family="sans-serif" font-size="10" fill="#88bbff" text-anchor="middle">Camera</text>

  <rect x="500" y="68" width="80" height="30" rx="4" fill="#1a2a4a" stroke="#4488ff" stroke-width="1"/>
  <text x="540" y="87" font-family="sans-serif" font-size="10" fill="#88bbff" text-anchor="middle">MediaStream</text>

  <rect x="590" y="68" width="80" height="30" rx="4" fill="#1a2a4a" stroke="#4488ff" stroke-width="1"/>
  <text x="630" y="87" font-family="sans-serif" font-size="10" fill="#88bbff" text-anchor="middle">Video file</text>

  <!-- Arrow down to decoder -->
  <line x1="540" y1="98" x2="540" y2="122" stroke="#4488ff" stroke-width="2"/>
  <polygon points="535,118 545,118 540,126" fill="#4488ff"/>

  <!-- VideoDecoder box -->
  <rect x="420" y="122" width="240" height="50" rx="6" fill="#0d2040" stroke="#1a72e8" stroke-width="1.5"/>
  <text x="540" y="144" font-family="sans-serif" font-size="12" fill="#88bbff" text-anchor="middle" font-weight="bold">VideoDecoder</text>
  <text x="540" y="162" font-family="monospace" font-size="9" fill="#aaa" text-anchor="middle">H.264 · VP9 · AV1 · hardware GPU</text>

  <!-- Arrow down to frame processing -->
  <line x1="450" y1="172" x2="410" y2="196" stroke="#44dd88" stroke-width="1.5"/>
  <line x1="540" y1="172" x2="540" y2="196" stroke="#4488ff" stroke-width="1.5"/>
  <line x1="630" y1="172" x2="670" y2="196" stroke="#ff8844" stroke-width="1.5"/>

  <rect x="400" y="196" width="90" height="34" rx="4" fill="#0a2a10" stroke="#44dd88" stroke-width="1"/>
  <text x="445" y="217" font-family="sans-serif" font-size="9" fill="#44dd88" text-anchor="middle">VideoFrame</text>

  <rect x="498" y="196" width="90" height="34" rx="4" fill="#0d2040" stroke="#4488ff" stroke-width="1"/>
  <text x="543" y="217" font-family="sans-serif" font-size="9" fill="#88bbff" text-anchor="middle">Canvas/WebGL</text>

  <rect x="596" y="196" width="90" height="34" rx="4" fill="#2a1a0a" stroke="#ff8844" stroke-width="1"/>
  <text x="641" y="217" font-family="sans-serif" font-size="9" fill="#ff8844" text-anchor="middle">VideoEncoder</text>

  <!-- VideoEncoder output -->
  <line x1="641" y1="230" x2="641" y2="258" stroke="#ff8844" stroke-width="1.5"/>
  <polygon points="636,254 646,254 641,262" fill="#ff8844"/>
  <rect x="596" y="258" width="90" height="28" rx="4" fill="#2a1a0a" stroke="#ff8844" stroke-width="1"/>
  <text x="641" y="276" font-family="sans-serif" font-size="9" fill="#ff8844" text-anchor="middle">WebRTC stream</text>

  <!-- Use cases icons -->
  <rect x="410" y="258" width="160" height="28" rx="4" fill="#1a1a2a" stroke="#555" stroke-width="1"/>
  <text x="490" y="276" font-family="sans-serif" font-size="9" fill="#aaa" text-anchor="middle">Video editing · AR · Cloud gaming</text>

  <!-- Code snippet -->
  <rect x="30" y="304" width="340" height="100" rx="6" fill="#1e1e1e"/>
  <text x="46" y="324" font-family="monospace" font-size="11" fill="#6a9955">// WebCodecs: direct codec access</text>
  <text x="46" y="342" font-family="monospace" font-size="11" fill="#569cd6">const</text>
  <text x="92" y="342" font-family="monospace" font-size="11" fill="#d4d4d4"> decoder = </text>
  <text x="156" y="342" font-family="monospace" font-size="11" fill="#569cd6">new</text>
  <text x="182" y="342" font-family="monospace" font-size="11" fill="#4ec9b0"> VideoDecoder</text>
  <text x="46" y="360" font-family="monospace" font-size="11" fill="#d4d4d4">  ({ </text>
  <text x="76" y="360" font-family="monospace" font-size="11" fill="#9cdcfe">output</text>
  <text x="116" y="360" font-family="monospace" font-size="11" fill="#d4d4d4">: frame => </text>
  <text x="193" y="360" font-family="monospace" font-size="11" fill="#dcdcaa">render</text>
  <text x="229" y="360" font-family="monospace" font-size="11" fill="#d4d4d4">(frame) });</text>
  <text x="46" y="378" font-family="monospace" font-size="11" fill="#9cdcfe">decoder</text>
  <text x="98" y="378" font-family="monospace" font-size="11" fill="#d4d4d4">.</text>
  <text x="104" y="378" font-family="monospace" font-size="11" fill="#dcdcaa">decode</text>
  <text x="140" y="378" font-family="monospace" font-size="11" fill="#d4d4d4">(chunk);</text>
  <text x="46" y="396" font-family="monospace" font-size="10" fill="#6a9955">// Chrome 94, Aug 2021</text>

  <!-- Year badge -->
  <rect x="400" y="320" width="370" height="36" rx="18" fill="#1a72e8"/>
  <text x="585" y="344" font-family="sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">WebCodecs API — Chrome 94 · 2021</text>

  <!-- Bottom caption -->
  <text x="400" y="406" font-family="sans-serif" font-size="14" fill="#4488ff" text-anchor="middle" font-weight="bold">8ms latency — browser-level video codec access</text>
  <text x="400" y="426" font-family="sans-serif" font-size="11" fill="#888" text-anchor="middle">Chrome 94 · Hardware GPU codecs · Video editing, AR, Cloud gaming · 2021</text>
</svg>
